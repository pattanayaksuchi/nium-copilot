"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{8512:function(e,t,s){s.d(t,{V:function(){return c}});var n=s(7437),a=s(4092),i=s(2222),o=s(5685),r=s(8728);function c(e){let{sidebar:t,children:s}=e,{selectedConversationId:c}=(0,a.t)();return(0,n.jsxs)("div",{className:"h-screen flex flex-col bg-subtle",children:[(0,n.jsxs)("header",{className:"bg-surface border-b border-subtle px-6 py-4 flex items-center justify-between shadow-custom z-10",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,n.jsx)(i.Z,{className:"w-5 h-5 text-white"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Nium Developer Copilot"}),(0,n.jsx)("p",{className:"text-sm text-muted",children:"AI-powered assistant for payout integration"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{className:"p-2 text-muted hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-custom",children:(0,n.jsx)(o.Z,{className:"w-5 h-5"})}),(0,n.jsx)("button",{className:"p-2 text-muted hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-custom",children:(0,n.jsx)(r.Z,{className:"w-5 h-5"})})]})]}),(0,n.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,n.jsx)("aside",{className:"flex-shrink-0",children:t}),(0,n.jsx)("main",{className:"flex-1 flex flex-col overflow-hidden",children:s})]})]})}},928:function(e,t,s){s.d(t,{f:function(){return g}});var n=s(7437),a=s(2265),i=s(2222),o=s(4743),r=s(2369),c=s(401),l=s(8867),d=s(9076),u=s(6362),p=s(6193),x=s(4092),h=s(1178),m=s(9065);function g(){var e;let{isCompact:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{selectedConversationId:s,composerText:r,setComposerText:c,resetComposer:l,setSelectedConversationId:d}=(0,x.t)(),{data:u,isLoading:g}=(0,p.sX)(s),v=(0,p.$3)(),y=(0,p.Gi)(),{showToast:b}=(0,m.p)(),[j,N]=(0,a.useState)(null),[w,C]=(0,a.useState)(null),k=(0,a.useRef)(null),S=(0,a.useRef)(null),T=()=>{var e;null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{T()},[null==u?void 0:u.messages]);let D=async()=>{if(r.trim()&&!v.isPending&&!y.isPending)try{let e=s;e||(e=(await y.mutateAsync("New Chat")).id,d(e)),await v.mutateAsync({conversationId:e,content:r.trim()}),l()}catch(e){console.error("Failed to send message:",e),b({type:"error",title:"Message failed to send",message:"Please try again"})}},I=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),D())},z=async(e,t)=>{try{await navigator.clipboard.writeText(e),N(t),setTimeout(()=>N(null),2e3),b({type:"success",title:"Copied to clipboard",message:"Message content copied"})}catch(e){console.error("Failed to copy:",e),b({type:"error",title:"Copy failed",message:"Unable to copy to clipboard"})}};return s?g?(0,n.jsxs)("div",{className:"chat-interface",children:[(0,n.jsx)("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",background:"white"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,n.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#f3f4f6",animation:"pulse 1.5s ease-in-out infinite"}}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,n.jsx)("div",{style:{height:"16px",width:"128px",borderRadius:"4px",background:"#f3f4f6",animation:"pulse 1.5s ease-in-out infinite"}}),(0,n.jsx)("div",{style:{height:"12px",width:"96px",borderRadius:"4px",background:"#f3f4f6",animation:"pulse 1.5s ease-in-out infinite"}})]})]})}),(0,n.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[(0,n.jsx)(h.ty,{}),(0,n.jsx)(h.ty,{}),(0,n.jsx)(h.ty,{})]})]}):(0,n.jsxs)("div",{className:"chat-interface",children:[!t&&(0,n.jsx)("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",background:"white",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:(null==u?void 0:u.title)||"New Chat"}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",margin:"4px 0 0 0"},children:"AI-powered assistant for Nium integration teams"})]}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:"#f0fdf4",color:"#166534",fontSize:"12px",fontWeight:"500",borderRadius:"9999px",border:"1px solid #bbf7d0"},children:[(0,n.jsx)("div",{style:{width:"6px",height:"6px",background:"#10b981",borderRadius:"50%",animation:"pulse 2s infinite"}}),"Online"]})})]})}),(0,n.jsx)("div",{className:"chat-messages",children:(0,n.jsxs)("div",{className:"chat-messages-container ".concat(t?"chat-messages-container-compact":""),children:[null==u?void 0:null===(e=u.messages)||void 0===e?void 0:e.map(e=>(0,n.jsx)(f,{message:e,onCopy:z,copiedMessageId:j,isHovered:w===e.id,onHover:()=>C(e.id),onLeave:()=>C(null)},e.id)),v.isPending&&(0,n.jsxs)("div",{className:"message-bubble",children:[(0,n.jsx)("div",{className:"message-avatar message-avatar-assistant",children:(0,n.jsx)(i.Z,{size:20,color:"white"})}),(0,n.jsx)("div",{style:{flex:1},children:(0,n.jsxs)("div",{className:"typing-indicator",children:[(0,n.jsxs)("div",{className:"typing-dots",children:[(0,n.jsx)("div",{className:"typing-dot"}),(0,n.jsx)("div",{className:"typing-dot"}),(0,n.jsx)("div",{className:"typing-dot"})]}),(0,n.jsx)("span",{style:{fontSize:"14px",color:"#6b7280"},children:"Thinking..."})]})})]}),(0,n.jsx)("div",{ref:k})]})}),(0,n.jsx)("div",{className:"chat-composer ".concat(t?"chat-composer-compact":""),children:(0,n.jsxs)("div",{className:t?"":"chat-composer-container",children:[(0,n.jsxs)("div",{className:"chat-input-group ".concat(t?"chat-input-group-compact":""),children:[(0,n.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,n.jsx)("textarea",{ref:S,value:r,onChange:e=>{c(e.target.value),S.current&&(S.current.style.height="auto",S.current.style.height=Math.min(S.current.scrollHeight,t?80:120)+"px")},onKeyDown:I,placeholder:t?"Ask about payouts...":"Ask about payout methods, validation requirements, API integration...",className:"chat-input ".concat(t?"chat-input-compact":""),rows:1}),!t&&r.length>0&&(0,n.jsx)("div",{style:{position:"absolute",bottom:"8px",right:"8px",fontSize:"12px",color:"#6b7280"},children:(0,n.jsxs)("span",{children:[r.length,"/2000"]})})]}),(0,n.jsx)("button",{onClick:D,disabled:!r.trim()||v.isPending,className:"chat-send-btn ".concat(t?"chat-send-btn-compact":""),children:(0,n.jsx)(o.Z,{size:t?16:20})})]}),!t&&(0,n.jsxs)("div",{className:"chat-help-text",children:[(0,n.jsx)("span",{children:"Press Enter to send, Shift+Enter for new line"}),(0,n.jsx)("span",{children:"Powered by Nium AI"})]})]})})]}):(0,n.jsxs)("div",{className:"chat-interface",children:[(0,n.jsx)("div",{className:"chat-welcome ".concat(t?"chat-welcome-compact":""),children:(0,n.jsxs)("div",{className:"chat-welcome-content",children:[(0,n.jsx)("div",{className:"chat-bot-icon ".concat(t?"chat-bot-icon-compact":""),children:(0,n.jsx)(i.Z,{size:t?20:28,color:"white"})}),(0,n.jsx)("h3",{className:"chat-welcome-title ".concat(t?"chat-welcome-title-compact":""),children:t?"Nium Copilot":"Welcome to Nium Developer Copilot"}),(0,n.jsx)("p",{className:"chat-welcome-description ".concat(t?"chat-welcome-description-compact":""),children:t?"Ask me about payout integration, validation, or API guidance.":"Your AI-powered assistant for payout integration. Get instant playbooks, validation guardrails, and docs-aware guidance."}),(0,n.jsxs)("div",{className:"chat-suggestions",children:[(0,n.jsx)("button",{className:"chat-suggestion-btn",onClick:()=>c("How do I validate a payout payload for Australia?"),children:"\uD83D\uDCB8 Validate payout payload for Australia"}),(0,n.jsx)("button",{className:"chat-suggestion-btn",onClick:()=>c("Show me API integration examples for USD transfers"),children:"\uD83D\uDD17 API integration examples for USD"}),(0,n.jsx)("button",{className:"chat-suggestion-btn",onClick:()=>c("What are the required fields for Singapore payouts?"),children:"\uD83D\uDCCB Required fields for Singapore payouts"}),!t&&(0,n.jsx)("button",{className:"chat-suggestion-btn",onClick:()=>c("Generate a cURL example for bank transfer to UK"),children:"\uD83D\uDEE0️ Generate cURL example for UK bank transfer"})]})]})}),(0,n.jsxs)("div",{className:"chat-composer ".concat(t?"chat-composer-compact":""),children:[(0,n.jsxs)("div",{className:"chat-input-group ".concat(t?"chat-input-group-compact":""),children:[(0,n.jsx)("textarea",{ref:S,value:r,onChange:e=>{c(e.target.value),S.current&&(S.current.style.height="auto",S.current.style.height=Math.min(S.current.scrollHeight,t?80:120)+"px")},onKeyDown:I,placeholder:t?"Ask about payouts...":"Ask about payout methods, validation requirements, API integration...",className:"chat-input ".concat(t?"chat-input-compact":""),rows:1}),(0,n.jsx)("button",{onClick:D,disabled:!r.trim()||v.isPending,className:"chat-send-btn ".concat(t?"chat-send-btn-compact":""),children:(0,n.jsx)(o.Z,{size:t?16:20})})]}),!t&&(0,n.jsxs)("div",{className:"chat-help-text",children:[(0,n.jsx)("span",{children:"Press Enter to send, Shift+Enter for new line"}),(0,n.jsx)("span",{children:"Powered by Nium AI"})]})]})]})}function f(e){let{message:t,onCopy:s,copiedMessageId:a,isHovered:o,onHover:u,onLeave:p}=e,x="user"===t.role,h=new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,n.jsxs)("div",{className:"message-bubble ".concat(x?"message-bubble-user":""),onMouseEnter:u,onMouseLeave:p,style:{position:"relative"},children:[(0,n.jsx)("div",{className:"message-avatar ".concat(x?"message-avatar-user":"message-avatar-assistant"),children:x?(0,n.jsx)(r.Z,{size:20,color:"white"}):(0,n.jsx)(i.Z,{size:20,color:"white"})}),(0,n.jsxs)("div",{className:"message-content ".concat(x?"message-content-user":""),children:[(0,n.jsxs)("div",{className:"message-header ".concat(x?"message-header-user":""),children:[(0,n.jsx)("span",{className:"message-name",children:x?"You":"Nium Copilot"}),(0,n.jsx)("span",{className:"message-time",children:h})]}),(0,n.jsxs)("div",{className:"message-text ".concat(x?"message-text-user":""),children:[t.content,o&&(0,n.jsxs)("div",{style:{position:"absolute",top:"8px",right:x?"auto":"8px",left:x?"8px":"auto",display:"flex",alignItems:"center",gap:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"4px 8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",opacity:o?1:0,transition:"opacity 0.2s ease",zIndex:10},children:[(0,n.jsx)("button",{onClick:()=>s(t.content,t.id),style:{padding:"4px",color:"#6b7280",background:"none",border:"none",borderRadius:"4px",cursor:"pointer",transition:"color 0.2s ease"},title:"Copy message",onMouseEnter:e=>e.currentTarget.style.color="#374151",onMouseLeave:e=>e.currentTarget.style.color="#6b7280",children:a===t.id?(0,n.jsx)(c.Z,{size:12,color:"#10b981"}):(0,n.jsx)(l.Z,{size:12})}),!x&&(0,n.jsx)("button",{style:{padding:"4px",color:"#6b7280",background:"none",border:"none",borderRadius:"4px",cursor:"pointer",transition:"color 0.2s ease"},title:"Regenerate response",onMouseEnter:e=>e.currentTarget.style.color="#374151",onMouseLeave:e=>e.currentTarget.style.color="#6b7280",children:(0,n.jsx)(d.Z,{size:12})})]})]}),t.citations&&t.citations.length>0&&(0,n.jsxs)("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"8px",alignSelf:x?"flex-end":"flex-start"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Sources"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:t.citations.map((e,t)=>(0,n.jsx)(v,{citation:e},t))})]})]})]})}function v(e){let{citation:t}=e;return(0,n.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 10px",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",fontSize:"12px",color:"#1d4ed8",textDecoration:"none",fontWeight:"500",transition:"all 0.2s ease",maxWidth:"128px"},title:t.snippet,onMouseEnter:e=>{e.currentTarget.style.background="#dbeafe",e.currentTarget.style.color="#1e40af",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.background="#eff6ff",e.currentTarget.style.color="#1d4ed8",e.currentTarget.style.transform="translateY(0)"},children:[(0,n.jsx)(u.Z,{size:12}),(0,n.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]})}},982:function(e,t,s){s.d(t,{U:function(){return g}});var n=s(7437),a=s(2265),i=s(407),o=s(9397),r=s(2451),c=s(3417),l=s(1533),d=s(8893),u=s(8930),p=s(6193),x=s(4092),h=s(1178),m=s(9065);function g(){let{data:e=[],isLoading:t}=(0,p.Z5)(),s=(0,p.Gi)(),g=(0,p.E$)(),f=(0,p.pA)(),{showToast:v}=(0,m.p)(),{selectedConversationId:y,setSelectedConversationId:b,sidebarCollapsed:j,setSidebarCollapsed:N}=(0,x.t)(),[w,C]=(0,a.useState)(null),[k,S]=(0,a.useState)(""),[T,D]=(0,a.useState)(null),[I,z]=(0,a.useState)(""),Z=async()=>{try{let e=await s.mutateAsync(void 0);b(e.id),v({type:"success",title:"New conversation created",message:"Ready to start chatting!"})}catch(e){console.error("Failed to create conversation:",e),v({type:"error",title:"Failed to create conversation",message:"Please try again"})}},E=async e=>{try{await g.mutateAsync(e),y===e&&b(null),D(null),v({type:"success",title:"Conversation deleted",message:"The conversation has been removed"})}catch(e){console.error("Failed to delete conversation:",e),v({type:"error",title:"Failed to delete conversation",message:"Please try again"})}},P=(e,t)=>{C(e),S(t),D(null)},A=async()=>{if(w&&k.trim())try{await f.mutateAsync({id:w,title:k.trim()}),C(null),S(""),v({type:"success",title:"Conversation renamed",message:"Title updated successfully"})}catch(e){console.error("Failed to update conversation:",e),v({type:"error",title:"Failed to rename conversation",message:"Please try again"})}},F=()=>{C(null),S("")},M=(0,a.useMemo)(()=>e.filter(e=>e.title.toLowerCase().includes(I.toLowerCase())),[e,I]),q=(0,a.useMemo)(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t.getTime()-864e5),n=new Date(t.getTime()-6048e5),a={Today:[],Yesterday:[],"This Week":[],Earlier:[]};return M.forEach(e=>{let i=new Date(e.updated_at);i>=t?a.Today.push(e):i>=s?a.Yesterday.push(e):i>=n?a["This Week"].push(e):a.Earlier.push(e)}),a},[M]),R=e=>new Date(e).toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return j?(0,n.jsxs)("div",{className:"conversation-sidebar-collapsed",children:[(0,n.jsx)("button",{onClick:()=>N(!1),className:"sidebar-control-btn",children:(0,n.jsx)(i.Z,{size:20})}),(0,n.jsx)("button",{onClick:Z,className:"sidebar-control-btn",style:{marginTop:"16px"},title:"New Chat",children:(0,n.jsx)(o.Z,{size:20})})]}):(0,n.jsxs)("div",{className:"conversation-sidebar",style:{width:"320px"},children:[(0,n.jsxs)("div",{className:"conversation-header",children:[(0,n.jsxs)("div",{className:"conversation-header-title",children:[(0,n.jsx)("span",{children:"Conversations"}),(0,n.jsx)("button",{onClick:()=>N(!0),className:"sidebar-control-btn",children:(0,n.jsx)(r.Z,{size:16})})]}),(0,n.jsx)("input",{type:"text",value:I,onChange:e=>z(e.target.value),placeholder:"Search conversations...",className:"conversation-search"}),(0,n.jsxs)("button",{onClick:Z,disabled:s.isPending||e.length>=10,className:"new-chat-btn",children:[(0,n.jsx)(o.Z,{size:16}),"New Chat",e.length>=10&&(0,n.jsx)("span",{style:{fontSize:"12px",opacity:.9},children:"(Max 10)"})]})]}),(0,n.jsx)("div",{className:"conversation-list",children:t?(0,n.jsx)("div",{style:{padding:"16px"},children:(0,n.jsx)(h.Pf,{})}):0===M.length?(0,n.jsxs)("div",{className:"conversation-empty",children:[(0,n.jsx)(c.Z,{className:"conversation-empty-icon"}),(0,n.jsx)("p",{className:"conversation-empty-title",children:I?"No conversations found":"No conversations yet"}),(0,n.jsx)("p",{className:"conversation-empty-description",children:I?"Try a different search term":"Start a new chat to get started"})]}):(0,n.jsx)("div",{children:Object.entries(q).map(e=>{let[t,s]=e;return 0===s.length?null:(0,n.jsxs)("div",{className:"conversation-group",children:[(0,n.jsx)("h3",{className:"conversation-group-title",children:t}),(0,n.jsx)("div",{children:s.map(e=>(0,n.jsxs)("div",{className:"conversation-item",children:[(0,n.jsxs)("div",{className:"conversation-link ".concat(y===e.id?"conversation-link-active":""),onClick:()=>b(e.id),children:[(0,n.jsx)("div",{className:"conversation-indicator ".concat(y===e.id?"conversation-indicator-active":"conversation-indicator-default")}),(0,n.jsx)("div",{className:"conversation-details",children:w===e.id?(0,n.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),onBlur:A,onKeyDown:e=>{"Enter"===e.key&&A(),"Escape"===e.key&&F()},className:"conversation-edit-input",autoFocus:!0}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{className:"conversation-title",children:e.title}),(0,n.jsxs)("div",{className:"conversation-meta",children:[(0,n.jsx)("span",{children:R(e.updated_at)}),e.messages_count>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"•"}),(0,n.jsxs)("span",{children:[e.messages_count," messages"]})]})]})]})}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),D(T===e.id?null:e.id)},className:"conversation-menu-btn",children:(0,n.jsx)(l.Z,{size:16})})]}),T===e.id&&(0,n.jsxs)("div",{className:"conversation-dropdown",children:[(0,n.jsxs)("button",{onClick:()=>P(e.id,e.title),className:"conversation-dropdown-item",children:[(0,n.jsx)(d.Z,{size:14}),"Rename"]}),(0,n.jsxs)("button",{onClick:()=>E(e.id),className:"conversation-dropdown-item conversation-dropdown-item-danger",children:[(0,n.jsx)(u.Z,{size:14}),"Delete"]})]})]},e.id))})]},t)})})})]})}},1178:function(e,t,s){s.d(t,{Pf:function(){return i},ty:function(){return o}});var n=s(7437);function a(e){let{className:t=""}=e;return(0,n.jsx)("div",{className:"skeleton rounded ".concat(t)})}function i(){return(0,n.jsx)("div",{className:"space-y-3",children:Array.from({length:4}).map((e,t)=>(0,n.jsxs)("div",{className:"p-3 bg-surface rounded-lg border border-subtle",children:[(0,n.jsx)(a,{className:"h-4 w-3/4 mb-2"}),(0,n.jsx)(a,{className:"h-3 w-1/2"})]},t))})}function o(){return(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)(a,{className:"w-8 h-8 rounded-full flex-shrink-0"}),(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)(a,{className:"h-4 w-20"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(a,{className:"h-4 w-full"}),(0,n.jsx)(a,{className:"h-4 w-4/5"}),(0,n.jsx)(a,{className:"h-4 w-3/5"})]})]})]})}},9065:function(e,t,s){s.d(t,{ToastProvider:function(){return p},p:function(){return u}});var n=s(7437),a=s(2265),i=s(401),o=s(2489),r=s(9322),c=s(3245);function l(e){let{id:t,type:s,title:l,message:d,duration:u=4e3,onClose:p}=e,[x,h]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=setTimeout(()=>{h(!1),setTimeout(()=>p(t),150)},u);return()=>clearTimeout(e)},[t,u,p]);let m={success:i.Z,error:o.Z,warning:r.Z,info:c.Z}[s];return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"16px",border:"1px solid",borderRadius:"8px",marginBottom:"8px",transition:"all 0.2s ease",transform:x?"translateX(0)":"translateX(100%)",opacity:x?1:0,...{success:{background:"#f0fdf4",borderColor:"#bbf7d0",color:"#166534"},error:{background:"#fef2f2",borderColor:"#fecaca",color:"#991b1b"},warning:{background:"#fffbeb",borderColor:"#fed7aa",color:"#92400e"},info:{background:"#eff6ff",borderColor:"#bfdbfe",color:"#1e40af"}}[s]},children:[(0,n.jsx)(m,{style:{...{success:{color:"#10b981"},error:{color:"#ef4444"},warning:{color:"#f59e0b"},info:{color:"#3b82f6"}}[s],marginTop:"2px"},size:16}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h4",{style:{fontWeight:"600",fontSize:"14px",margin:"0 0 4px 0"},children:l}),d&&(0,n.jsx)("p",{style:{fontSize:"13px",margin:0,opacity:.8},children:d})]}),(0,n.jsx)("button",{onClick:()=>p(t),style:{background:"none",border:"none",cursor:"pointer",padding:"2px",opacity:.6,transition:"opacity 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.opacity="1",onMouseLeave:e=>e.currentTarget.style.opacity="0.6",children:(0,n.jsx)(o.Z,{size:14})})]})}let d=(0,a.createContext)(null);function u(){let e=(0,a.useContext)(d);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function p(e){let{children:t}=e,[s,i]=(0,a.useState)([]),o=e=>{i(t=>t.filter(t=>t.id!==e))};return(0,n.jsxs)(d.Provider,{value:{showToast:e=>{let t=Math.random().toString(36).substr(2,9);i(s=>[...s,{...e,id:t}])}},children:[t,(0,n.jsx)("div",{style:{position:"fixed",top:"16px",right:"16px",zIndex:50,maxWidth:"24rem",width:"100%"},children:s.map(e=>(0,n.jsx)(l,{...e,onClose:o},e.id))})]})}},6193:function(e,t,s){s.d(t,{sX:function(){return p},Z5:function(){return u},Gi:function(){return x},E$:function(){return m},$3:function(){return g},pA:function(){return h}});var n=s(1713),a=s(9827),i=s(1770),o=s(4147);let r=window.location.hostname.includes("replit.dev")||window.location.hostname.includes("replit.app")?window.location.origin:"http://localhost:8000";class c{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseUrl).concat(e),n=function(){try{let e=localStorage.getItem("nium-client-id");return e||(e=(0,o.Z)(),localStorage.setItem("nium-client-id",e)),e}catch(e){return console.warn("localStorage not accessible, using fallback client ID:",e),"fallback-".concat((0,o.Z)())}}(),a=await fetch(s,{...t,headers:{"Content-Type":"application/json","X-Client-Id":n,...t.headers}});if(!a.ok){let e=await a.text();throw Error("API Error: ".concat(a.status," - ").concat(e))}return a.json()}async getConversations(){return this.request("/conversations")}async createConversation(e){return this.request("/conversations",{method:"POST",body:JSON.stringify(e)})}async getConversation(e){return this.request("/conversations/".concat(e))}async updateConversation(e,t){return this.request("/conversations/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteConversation(e){return this.request("/conversations/".concat(e),{method:"DELETE"})}async sendMessage(e,t){return this.request("/conversations/".concat(e,"/messages"),{method:"POST",body:JSON.stringify(t)})}constructor(e){this.baseUrl=e}}let l=new c(r),d={all:["conversations"],lists:()=>[...d.all,"list"],list:e=>[...d.lists(),{filters:e}],details:()=>[...d.all,"detail"],detail:e=>[...d.details(),e]};function u(){return(0,n.a)({queryKey:d.lists(),queryFn:()=>l.getConversations(),staleTime:3e5})}function p(e){return(0,n.a)({queryKey:d.detail(e||""),queryFn:()=>l.getConversation(e),enabled:!!e,staleTime:12e4})}function x(){let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>l.createConversation({title:e}),onSuccess:()=>{e.invalidateQueries({queryKey:d.lists()})}})}function h(){let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>{let{id:t,title:s}=e;return l.updateConversation(t,{title:s})},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:d.lists()}),e.invalidateQueries({queryKey:d.detail(s.id)})}})}function m(){let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>l.deleteConversation(e),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:d.lists()}),e.removeQueries({queryKey:d.detail(s)})}})}function g(){let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>{let{conversationId:t,content:s}=e;return l.sendMessage(t,{content:s})},onSuccess:(t,s)=>{e.setQueryData(d.detail(s.conversationId),e=>e?{...e,messages:[...e.messages,t.user_message,t.assistant_message],updated_at:new Date().toISOString()}:e),e.invalidateQueries({queryKey:d.lists()})}})}},4092:function(e,t,s){s.d(t,{t:function(){return n}});let n=(0,s(3011).U)(e=>({selectedConversationId:null,isComposerFocused:!1,composerText:"",sidebarCollapsed:!1,setSelectedConversationId:t=>e({selectedConversationId:t}),setComposerFocused:t=>e({isComposerFocused:t}),setComposerText:t=>e({composerText:t}),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),resetComposer:()=>e({composerText:"",isComposerFocused:!1})}))}}]);